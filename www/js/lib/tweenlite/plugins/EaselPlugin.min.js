/*!
 * VERSION: beta 0.1.3
 * DATE: 2013-01-26
 * JavaScript
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";window._gsDefine("plugins.EaselPlugin",["plugins.TweenPlugin"],function(a){var e,f,b=function(){a.call(this,"easel",-1),this._overwriteProps.pop()},c=b.prototype=new a("easel",-1),d=/(\d|\.)+/g,g=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],h=function(a,b,c){if(!e&&(e=window.ColorFilter||window.createjs.ColorFilter,!e))throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.";for(var h,i,j,k,l,d=a.filters||[],f=d.length;--f>-1;)if(d[f]instanceof e){i=d[f];break}if(i||(i=new e,d.push(i),a.filters=d),j=i.clone(),null!=b.tint)h=s(b.tint),k=null!=b.tintAmount?Number(b.tintAmount):1,j.redOffset=Number(h[0])*k,j.greenOffset=Number(h[1])*k,j.blueOffset=Number(h[2])*k,j.redMultiplier=j.greenMultiplier=j.blueMultiplier=1-k;else for(l in b)"exposure"!==l&&"brightness"!==l&&(j[l]=Number(b[l]));for(null!=b.exposure?(j.redOffset=j.greenOffset=j.blueOffset=255*(Number(b.exposure)-1),j.redMultiplier=j.greenMultiplier=j.blueMultiplier=1):null!=b.brightness&&(k=Number(b.brightness)-1,j.redOffset=j.greenOffset=j.blueOffset=k>0?255*k:0,j.redMultiplier=j.greenMultiplier=j.blueMultiplier=1-Math.abs(k)),f=8;--f>-1;)l=g[f],i[l]!==j[l]&&c._addTween(i,l,i[l],j[l],"easel_colorFilter");if(c._overwriteProps.push("easel_colorFilter"),!a.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+a},i=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],j=.212671,k=.71516,l=.072169,m=function(a,b){if(!(a instanceof Array&&b instanceof Array))return b;var f,g,c=[],d=0,e=0;for(f=0;4>f;f++){for(g=0;5>g;g++)e=4===g?a[d+4]:0,c[d+g]=a[d]*b[g]+a[d+1]*b[g+5]+a[d+2]*b[g+10]+a[d+3]*b[g+15]+e;d+=5}return c},n=function(a,b){if(isNaN(b))return a;var c=1-b,d=c*j,e=c*k,f=c*l;return m([d+b,e,f,0,0,d,e+b,f,0,0,d,e,f+b,0,0,0,0,0,1,0],a)},o=function(a,b,c){isNaN(c)&&(c=1);var d=s(b),e=d[0]/255,f=d[1]/255,g=d[2]/255,h=1-c;return m([h+c*e*j,c*e*k,c*e*l,0,0,c*f*j,h+c*f*k,c*f*l,0,0,c*g*j,c*g*k,h+c*g*l,0,0,0,0,0,1,0],a)},p=function(a,b){if(isNaN(b))return a;b*=Math.PI/180;var c=Math.cos(b),d=Math.sin(b);return m([j+c*(1-j)+d*-j,k+c*-k+d*-k,l+c*-l+d*(1-l),0,0,j+c*-j+.143*d,k+c*(1-k)+.14*d,l+c*-l+d*-.283,0,0,j+c*-j+d*-(1-j),k+c*-k+d*k,l+c*(1-l)+d*l,0,0,0,0,0,1,0,0,0,0,0,1],a)},q=function(a,b){return isNaN(b)?a:(b+=.01,m([b,0,0,0,128*(1-b),0,b,0,0,128*(1-b),0,0,b,0,128*(1-b),0,0,0,1,0],a))},r=function(a,b,c){if(!f&&(f=window.ColorMatrixFilter||window.createjs.ColorMatrixFilter,!f))throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.";for(var g,h,j,k,d=a.filters||[],e=d.length;--e>-1;)if(d[e]instanceof f){j=d[e];break}for(j||(j=new f(i.slice()),d.push(j),a.filters=d),k=j.clone(),h=g=k.matrix||i,null!=b.colorize&&(g=o(g,b.colorize,Number(b.colorizeAmount))),null!=b.contrast&&(g=q(g,Number(b.contrast))),null!=b.hue&&(g=p(g,Number(b.hue))),null!=b.saturation&&(g=n(g,Number(b.saturation))),e=g.length;--e>-1;)g[e]!==h[e]&&c._addTween(h,e,h[e],g[e],"easel_colorMatrixFilter");if(c._overwriteProps.push("easel_colorMatrixFilter"),!a.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+a;c._matrix=h},s=function(a){return""===a||null==a||"none"===a?t.transparent:t[a]?t[a]:"number"==typeof a?[a>>16,255&a>>8,255&a]:"#"===a.charAt(0)?(4===a.length&&(a="#"+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)+a.charAt(3)+a.charAt(3)),a=parseInt(a.substr(1),16),[a>>16,255&a>>8,255&a]):a.match(d)||t.transparent},t={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]};return c.constructor=b,b.API=2,b.version="0.1.3",c._onInitTween=function(a,b){this._target=a;var d,e,f,g;for(d in b)"colorFilter"===d||"tint"===d||"tintAmount"===d||"exposure"===d||"brightness"===d?f||(h(a,b.colorFilter||b,this),f=!0):"saturation"===d||"contrast"===d||"hue"===d||"colorize"===d||"colorizeAmount"===d?g||(r(a,b.colorMatrixFilter||b,this),g=!0):null!=a[d]&&(this._firstPT=e={_next:this._firstPT,t:a,p:d,f:"function"==typeof a[d],n:d,pr:0,type:0},e.s=e.f?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),e.c="number"==typeof b[d]?b[d]-e.s:"string"==typeof b[d]?parseFloat(b[d].split("=").join("")):0,e._next&&(e._next._prev=e));return!0},c.setRatio=function(a){for(var d,b=this._firstPT,c=1e-6;b;)d=b.c*a+b.s,b.r?d=d+(d>0?.5:-.5)>>0:c>d&&d>-c&&(d=0),b.f?b.t[b.p](d):b.t[b.p]=d,b=b._next;this._target.cacheID&&this._target.updateCache()},a.activate([b]),b},!0)}),window._gsDefine&&window._gsQueue.pop()();